{% extends 'base.html.twig' %}

{% block title %}Connexion / Inscription{% endblock %}

{% block body %}
<h1>Mon compte</h1>

<div style="display: flex; gap: 50px;">
    <div style="flex: 1;">
        <h2>Connexion</h2>
        {% if login_error %}
            <div style="color: red;">Identifiants invalides</div>
        {% endif %}

        <form method="post" action="{{ path('app_login') }}">
            <label for="email">Email</label>
            <input type="text" id="email" name="_username" value="{{ last_username }}" required />

            <label for="password">Mot de passe</label>
            <input type="password" id="password" name="_password" required />

            <input type="hidden" name="_csrf_token"
                value="{{ csrf_token('authenticate') }}"
            >

            <button type="submit">Connexion</button>
        </form>
    </div>

    <div style="flex: 1;">
        <h2>Inscription</h2>

        {{ form_start(registration_form) }}
            {{ form_row(registration_form.email) }}
            {{ form_row(registration_form.plainPassword.first) }}
            {{ form_row(registration_form.plainPassword.second) }}
            {{ form_row(registration_form.username) }}
            {{ form_row(registration_form.name) }}
            {{ form_row(registration_form.forname) }}
            <button type="submit">Cr√©er un compte</button>
        {{ form_end(registration_form) }}
    </div>
</div>
{% endblock %}
